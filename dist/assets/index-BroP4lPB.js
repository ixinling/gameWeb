(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(e){if(e.ep)return;e.ep=!0;const i=a(e);fetch(e.href,i)}})();document.addEventListener("DOMContentLoaded",()=>{document.getElementById("current-time");const o=document.getElementById("game-modal"),n=document.getElementById("modal-title"),a=document.getElementById("game-container"),c=document.querySelector(".close-btn"),e=document.getElementById("start-game"),i=document.getElementById("restart-game");let s=null;document.querySelectorAll(".game-card").forEach(r=>{r.addEventListener("click",()=>{const t=r.dataset.game;n.textContent=r.querySelector("h3").textContent,l(t),o.style.display="block"})}),c.addEventListener("click",()=>{o.style.display="none",s&&s.destroy()});class d{constructor(t){this.container=t,this.canvas=document.createElement("canvas"),this.canvas.width=400,this.canvas.height=400,this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.gridSize=20,this.snake=[{x:10,y:10}],this.direction="right",this.food=this.generateFood(),this.score=0,this.gameLoop=null,this.setupControls()}generateFood(){return{x:Math.floor(Math.random()*(this.canvas.width/this.gridSize)),y:Math.floor(Math.random()*(this.canvas.height/this.gridSize))}}setupControls(){document.addEventListener("keydown",t=>{switch(t.key){case"ArrowUp":this.direction="up";break;case"ArrowDown":this.direction="down";break;case"ArrowLeft":this.direction="left";break;case"ArrowRight":this.direction="right";break}})}start(){this.gameLoop=setInterval(()=>this.update(),100)}update(){const t={...this.snake[0]};switch(this.direction){case"up":t.y--;break;case"down":t.y++;break;case"left":t.x--;break;case"right":t.x++;break}t.x===this.food.x&&t.y===this.food.y?(this.score+=10,this.food=this.generateFood()):this.snake.pop(),this.snake.unshift(t),this.draw(),this.checkCollision()&&this.gameOver()}checkCollision(){const t=this.snake[0];return t.x<0||t.x>=this.canvas.width/this.gridSize||t.y<0||t.y>=this.canvas.height/this.gridSize||this.snake.slice(1).some(h=>h.x===t.x&&h.y===t.y)}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#6c5ce7",this.snake.forEach(t=>{this.ctx.fillRect(t.x*this.gridSize,t.y*this.gridSize,this.gridSize-2,this.gridSize-2)}),this.ctx.fillStyle="#e74c3c",this.ctx.fillRect(this.food.x*this.gridSize,this.food.y*this.gridSize,this.gridSize-2,this.gridSize-2),this.ctx.fillStyle="#2d3436",this.ctx.font="20px Arial",this.ctx.fillText(`Score: ${this.score}`,10,30)}gameOver(){clearInterval(this.gameLoop),this.ctx.fillStyle="rgba(0, 0, 0, 0.5)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#fff",this.ctx.font="40px Arial",this.ctx.textAlign="center",this.ctx.fillText("Game Over!",this.canvas.width/2,this.canvas.height/2)}destroy(){clearInterval(this.gameLoop),this.container.removeChild(this.canvas)}restart(){clearInterval(this.gameLoop),this.snake=[{x:10,y:10}],this.direction="right",this.food=this.generateFood(),this.score=0,this.start()}}function l(r){switch(a.innerHTML="",s&&s.destroy(),r){case"snake":s=new d(a);break;default:a.innerHTML="<p>Game coming soon!</p>";return}e.onclick=()=>s.start(),i.onclick=()=>s.restart()}window.onclick=r=>{r.target===o&&(o.style.display="none",s&&s.destroy())}});
