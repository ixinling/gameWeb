!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}(),document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("current-time");const t=document.getElementById("game-modal"),e=document.getElementById("modal-title"),i=document.getElementById("game-container"),s=document.querySelector(".close-btn"),r=document.getElementById("start-game"),n=document.getElementById("restart-game");let o=null;document.querySelectorAll(".game-card").forEach((s=>{s.addEventListener("click",(()=>{const a=s.dataset.game;e.textContent=s.querySelector("h3").textContent,function(t){i.innerHTML="",o&&o.destroy();if("snake"!==t)return void(i.innerHTML="<p>Game coming soon!</p>");o=new c(i);r.onclick=()=>o.start(),n.onclick=()=>o.restart()}(a),t.style.display="block"}))})),s.addEventListener("click",(()=>{t.style.display="none",o&&o.destroy()}));class c{constructor(t){this.container=t,this.canvas=document.createElement("canvas"),this.canvas.width=400,this.canvas.height=400,this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.gridSize=20,this.snake=[{x:10,y:10}],this.direction="right",this.food=this.generateFood(),this.score=0,this.gameLoop=null,this.setupControls()}generateFood(){return{x:Math.floor(Math.random()*(this.canvas.width/this.gridSize)),y:Math.floor(Math.random()*(this.canvas.height/this.gridSize))}}setupControls(){document.addEventListener("keydown",(t=>{switch(t.key){case"ArrowUp":this.direction="up";break;case"ArrowDown":this.direction="down";break;case"ArrowLeft":this.direction="left";break;case"ArrowRight":this.direction="right"}}))}start(){this.gameLoop=setInterval((()=>this.update()),100)}update(){const t={...this.snake[0]};switch(this.direction){case"up":t.y--;break;case"down":t.y++;break;case"left":t.x--;break;case"right":t.x++}t.x===this.food.x&&t.y===this.food.y?(this.score+=10,this.food=this.generateFood()):this.snake.pop(),this.snake.unshift(t),this.draw(),this.checkCollision()&&this.gameOver()}checkCollision(){const t=this.snake[0];return t.x<0||t.x>=this.canvas.width/this.gridSize||t.y<0||t.y>=this.canvas.height/this.gridSize||this.snake.slice(1).some((e=>e.x===t.x&&e.y===t.y))}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#6c5ce7",this.snake.forEach((t=>{this.ctx.fillRect(t.x*this.gridSize,t.y*this.gridSize,this.gridSize-2,this.gridSize-2)})),this.ctx.fillStyle="#e74c3c",this.ctx.fillRect(this.food.x*this.gridSize,this.food.y*this.gridSize,this.gridSize-2,this.gridSize-2),this.ctx.fillStyle="#2d3436",this.ctx.font="20px Arial",this.ctx.fillText(`Score: ${this.score}`,10,30)}gameOver(){clearInterval(this.gameLoop),this.ctx.fillStyle="rgba(0, 0, 0, 0.5)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#fff",this.ctx.font="40px Arial",this.ctx.textAlign="center",this.ctx.fillText("Game Over!",this.canvas.width/2,this.canvas.height/2)}destroy(){clearInterval(this.gameLoop),this.container.removeChild(this.canvas)}restart(){clearInterval(this.gameLoop),this.snake=[{x:10,y:10}],this.direction="right",this.food=this.generateFood(),this.score=0,this.start()}}window.onclick=e=>{e.target===t&&(t.style.display="none",o&&o.destroy())}}));
